import asyncio

from eth_async.client import Client
from eth_async.models import Networks, TokenAmount
from web3 import Web3
from web3.types import HexStr

from tasks.base import Base
from tasks.mute import Mute
from tasks.space_fi import SpaceFi
from tasks.syncswap import SyncSwap
from tasks.maverick import Maverick
from data.config import PRIVATE_KEY
from data.models import Contracts
from tasks.syncswap2 import SyncSwap2


async def main():
    client = Client(private_key=PRIVATE_KEY, network=Networks.Zksync)
    base = Base(client=client)
    mute = Mute(client=client)
    space_fi = SpaceFi(client=client)
    sync_swap = SyncSwap(client=client)
    sync_swap2 = SyncSwap2(client=client)
    maverick = Maverick(client=client)

    input_data = '0xd7570e450000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000002b9fd81a09300000000000000000000000000000000000000000000000000000000660d6ca80000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000600000000000000000000000003355df6d4c9c3035724fd0e3914de96a5a83aaf400000000000000000000000000000000000000000000000000000000000027100000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000080115c708e12edd42e504c1cd52aea96c547c05c00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000600000000000000000000000003355df6d4c9c3035724fd0e3914de96a5a83aaf40000000000000000000000007131b37478af63e775402248583099974a005b7500000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000'
    base.parse_params(input_data)
    # print(len('5aea5775959fbc2557cc8789bc1bf90a239d9a91'))
    # print(await sync_swap.swap_eth_to_usdc(amount=TokenAmount(0.0001)))
    # print(await sync_swap.swap_usdc_to_eth(amount=TokenAmount(0.5)))
    print(await sync_swap2.swap_busd_to_eth())
if __name__ == '__main__':
    asyncio.run(main())










